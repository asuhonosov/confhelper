<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HookahPlace Red Rose — Поток</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="page-header">
    <div class="page-header__inner">
      <div class="page-header__branding">
        <img
          class="page-header__logo"
          src="https://static.tildacdn.com/tild6632-3163-4430-b366-376534646533/_1.svg"
          alt="HookahPlace Red Rose"
        />
        <div class="page-header__info">
          <h1>HookahPlace Red Rose — Поток</h1>
          <p class="page-header__subtitle" data-header-details>
            Контролируйте столы, бары и стафф-зону, следите за заменами углей и временем сеанса в одном окне.
          </p>
        </div>
      </div>
      <div class="page-header__actions">
        <div class="page-header__contact" data-header-details>Антон Сухоносов, tg @cukerchik</div>
        <div class="page-header__clock" data-clock data-header-details></div>
        <button
          type="button"
          class="page-header__toggle page-header__toggle--panel"
          data-control-panel-toggle
          aria-expanded="true"
          aria-controls="control-panel"
        >
          Скрыть панель
        </button>
        <button type="button" class="page-header__toggle" data-header-toggle aria-expanded="true">
          Скрыть шапку
        </button>
      </div>
    </div>
  </header>

  <main class="layout" data-layout>
    <section class="layout__main">
      <div class="control-bar" data-control-panel id="control-panel" aria-hidden="false">
        <div class="control-bar__group">
          <button type="button" class="control-button" data-bulk-action="red">
            <span class="control-button__label">Поменял везде на красных —</span>
            <span class="control-button__count" data-count-red>0</span>
          </button>
          <button type="button" class="control-button" data-bulk-action="red-yellow">
            <span class="control-button__label">Поменял везде на красных и жёлтых —</span>
            <span class="control-button__count" data-count-red-yellow>0</span>
          </button>
        </div>
        <div class="control-bar__group control-bar__group--filters">
          <label class="toggle-filter">
            <input type="checkbox" data-hide-inactive />
            <span class="toggle-filter__track"></span>
            <span class="toggle-filter__thumb"></span>
            <span class="toggle-filter__label">Скрывать свободные столы</span>
          </label>
          <label class="toggle-filter">
            <input type="checkbox" data-sort-upcoming />
            <span class="toggle-filter__track"></span>
            <span class="toggle-filter__thumb"></span>
            <span class="toggle-filter__label">Отсортировать по ближайшим заменам</span>
          </label>
        </div>
        <div class="control-bar__group control-bar__group--actions">
          <button type="button" class="secondary" data-open-transfer>Перенести кальяны</button>
          <button
            type="button"
            class="ghost-button toggle-notifications"
            data-toggle-notifications
            aria-expanded="false"
          >
            Показать уведомления
          </button>
          <button type="button" class="ghost-button" data-open-settings>Настройки</button>
        </div>
      </div>
      <div class="tables" data-table-list></div>
    </section>
    <aside class="layout__aside" data-notifications-panel hidden aria-hidden="true">
      <div class="notifications">
        <div class="notifications__header">
          <h2>Уведомления</h2>
          <button type="button" class="text-button" data-action="clear-log">Очистить</button>
        </div>
        <ul class="notifications__list" data-log-list></ul>
      </div>
    </aside>
  </main>

  <template id="table-card-template">
    <article class="table-card" data-table-id>
      <header class="table-card__header">
        <div class="table-card__title">
          <span class="table-card__name" data-name></span>
          <span class="table-card__summary" data-summary></span>
        </div>
        <div class="table-card__actions">
          <button type="button" class="table-card__close" data-action="close-table">Закрыть</button>
        </div>
      </header>
      <ul class="table-card__hookahs" data-hookah-list></ul>
      <footer class="table-card__footer" data-table-alert></footer>
    </article>
  </template>

  <template id="hookah-chip-template">
    <li class="hookah-chip" data-alert>
      <button
        type="button"
        class="hookah-chip__remove"
        data-action="remove-hookah"
        aria-label="Удалить кальян"
      >
        ×
      </button>
      <button type="button" class="hookah-chip__body" data-action="toggle-hookah">
        <span class="hookah-chip__timer" data-timer>00:00</span>
        <span class="hookah-chip__plus" aria-hidden="true">+</span>
      </button>
      <div class="hookah-chip__progress" data-progress hidden>
        <div class="hookah-chip__progress-meta" data-progress-meta></div>
        <div class="hookah-chip__bar" data-progress-bar>
          <span class="hookah-chip__bar-fill" data-progress-fill></span>
          <div class="hookah-chip__bar-markers" data-progress-markers></div>
        </div>
      </div>
    </li>
  </template>

  <div class="dialog" data-settings hidden aria-hidden="true" role="dialog" aria-labelledby="settings-title">
    <div class="dialog__backdrop" data-dialog-dismiss></div>
    <div class="dialog__panel">
      <header class="dialog__header">
        <h2 class="dialog__title" id="settings-title">Общие настройки</h2>
        <button type="button" class="icon-button" data-dialog-dismiss aria-label="Закрыть">×</button>
      </header>
      <form class="dialog__content" data-settings-form>
        <label class="field">
          <span class="field__label">Частота смены углей (минуты)</span>
          <select name="interval" class="field__control" required>
            <option value="1">1</option>
            <option value="25">25</option>
            <option value="35">35</option>
            <option value="45">45</option>
          </select>
        </label>
        <label class="field">
          <span class="field__label">Количество замен углей</span>
          <select name="replacements" class="field__control" required>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
          </select>
        </label>
        <label class="field field--checkbox">
          <input type="checkbox" class="field__checkbox" name="preheat" />
          <span class="field__checkbox-label">Добавлять 10 минут прогрева перед стартом</span>
        </label>
        <label class="field">
          <span class="field__label">Время жизни стола (минуты)</span>
          <input
            type="number"
            name="tableDuration"
            class="field__control"
            min="30"
            max="360"
            step="5"
            required
          />
        </label>
        <p class="dialog__hint">
          Настройки применяются ко всем новым кальянам и обновляют таймеры после подтверждения.
        </p>
        <footer class="dialog__footer">
          <button type="button" class="secondary" data-dialog-dismiss>Отмена</button>
          <button type="submit" class="primary">Сохранить</button>
        </footer>
      </form>
    </div>
  </div>

  <div class="dialog" data-transfer hidden aria-hidden="true" role="dialog" aria-labelledby="transfer-title">
    <div class="dialog__backdrop" data-dialog-dismiss></div>
    <div class="dialog__panel dialog__panel--wide">
      <header class="dialog__header">
        <h2 class="dialog__title" id="transfer-title">Перенос кальянов</h2>
        <button type="button" class="icon-button" data-dialog-dismiss aria-label="Закрыть">×</button>
      </header>
      <form class="dialog__content" data-transfer-form>
        <label class="field">
          <span class="field__label">Откуда перенести</span>
          <select name="from" class="field__control" required data-transfer-from></select>
        </label>
        <div class="field">
          <span class="field__label">Какие кальяны перенести</span>
          <div class="transfer-hookah-list" data-transfer-hookah-list></div>
        </div>
        <label class="field">
          <span class="field__label">Куда перенести</span>
          <select name="to" class="field__control" required data-transfer-to></select>
        </label>
        <p class="dialog__error" data-transfer-error hidden></p>
        <p class="dialog__hint">
          Отметьте один или несколько активных кальянов — они сохранят таймеры и переедут в выбранный стол.
        </p>
        <footer class="dialog__footer">
          <button type="button" class="secondary" data-dialog-dismiss>Отмена</button>
          <button type="submit" class="primary" data-transfer-submit>Перенести</button>
        </footer>
      </form>
    </div>
  </div>

  <div class="dialog" data-confirm hidden aria-hidden="true" role="dialog" aria-labelledby="confirm-title">
    <div class="dialog__backdrop" data-dialog-dismiss></div>
    <div class="dialog__panel">
      <header class="dialog__header">
        <h2 class="dialog__title" id="confirm-title">Освободить стол</h2>
        <button type="button" class="icon-button" data-dialog-dismiss aria-label="Закрыть">×</button>
      </header>
      <div class="dialog__content">
        <p class="dialog__message" data-confirm-message></p>
      </div>
      <footer class="dialog__footer">
        <button type="button" class="secondary" data-dialog-dismiss>Отмена</button>
        <button type="button" class="primary" data-confirm-accept>Освободить</button>
      </footer>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
